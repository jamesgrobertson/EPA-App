<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<!-- Always force latest IE rendering engine (even in intranet) & Chrome Frame
		Remove this if you use the .htaccess -->
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
		<title>How's the Water?</title>
		<meta name="description" content="" />
		<meta name="author" content="James Robertson" />
		<meta name="viewport" content="width=device-width; initial-scale=1.0" />
		<!-- Replace favicon.ico & apple-touch-icon.png in the root of your domain and delete these references -->
		<link rel="shortcut icon" href="/favicon.ico" />
		<link rel="apple-touch-icon" href="/apple-touch-icon.png" />
	</head>
	<body>
		<div>
			<header>
				<h1>index</h1>
			</header>
			<nav>
				<p>
					<a href="/">Home</a>
				</p>
				<p>
					<a href="/contact">Contact</a>
				</p>
			</nav>
			<div>
				<form name="getwater" action="app.php" method="post">
					Get waterways near me within a
					<input type="text" name="radius" id="radius" maxlength="3" size="3" />
					mile radius
					<input type="hidden" name="latitude">
					<input type="hidden" name="longitude">
					<input type="button" value="Find My Location" onclick="getposition()" />
				</form>
				<p>This application is designed to use the GPS data or IP address from your mobile device or browser.</p>
				<p>When prompted, please allow the application to access your geolocation data for it to work correctly.</p>
			</div>
			<footer>
				<p>
					&copy; Copyright  by James Robertson
				</p>
			</footer>
		</div>
		<script src="//ajax.googleapis.com/ajax/libs/jquery/1.5.1/jquery.js"></script>
		<script src="geo.js" type="text/javascript" ></script>
		<script>
			function getposition() {
				if(geo_position_js.init()) {
					geo_position_js.getCurrentPosition(success_callback, error_callback, {
						enableHighAccuracy : true
					});
				} else {
					alert("Functionality not available");
				}

				function success_callback(p) {
					document.getwater.latitude.value = p.coords.latitude.toFixed(2);
					document.getwater.longitude.value = p.coords.longitude.toFixed(2);
					document.getwater.submit();
				}

				function error_callback(p) {
					alert('error=' + p.code);
				}

			}
		</script>
	</body>
</html>
